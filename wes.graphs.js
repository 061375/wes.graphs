var AreaChart=function(t){this.i=t.i,this.z=t.z,this.width=t.width,this.height=t.height,this.color=t.color,this.max=t.max,this.data=t.vals,this.updateint=t.updateint,this.updatecounter=0,this.animspeed=1,this.now=[];for(let t=0;t<this.data.length;t++)this.now[t]=this.height;if(void 0===t.getFunction)return console.log("Error: getFunction is a required parameter when in mode 0"),!1;this.getFunction=t.getFunction,void 0===t.getParams?this.getParams={}:this.getParams=t.getParams};AreaChart.prototype.loop=function(){this.updatecounter++,this.updatecounter>=this.updateint?(this.updatecounter=0,this.get(this.getFunction,this.getParams)):(this.makedata(this.data,!0),this.draw(this.drawdata))},AreaChart.prototype.push=function(t){this.data=t},AreaChart.prototype.get=function(t,i){"function"==typeof t&&t(i).then(t=>{this.data=t})},AreaChart.prototype.makedata=function(t,i){let e,a=0,h=(this.width-a)/(t.length-1);this.drawdata=[[a,this.height]];for(let s=0;s<t.length;s++)i?(this.now[s]+this.animspeed>this.height-t[s]/this.max&&(this.now[s]-=this.animspeed),this.now[s]-this.animspeed<this.height-t[s]/this.max&&(this.now[s]+=this.animspeed),e=[a,this.now[s]]):e=[a,this.height-t[s]/this.max],this.drawdata.push(e),a+=h;return this.drawdata.push([a-h,this.height]),this.drawdata},AreaChart.prototype.draw=function(t){$w.canvas.polygon(this.i,t,this.color,"fill",this.color,.1),$w.canvas.polygon(this.i,t,"#000","stroke","#000",1),$w.canvas.polygon(this.i,t,"#000","stroke","#000",1),$w.canvas.polygon(this.i,t,"#000","stroke","#000",1)};var barGraphHorizontal=function(t){if(this.i=t.i,this.text=t.text,this.max=t.max,this.values=t.values,this.val=t.val,this.width=t.width,this.height=t.height,this.z=t.z,this.color=t.color,this.bheight=this.height/this.values,this.x=0,this.y=this.bheight*this.z,this.bwidth=this.val/this.max,this.now=this.width,this.updateint=t.updateint,this.updatecounter=0,this.animspeed=1,this.mode=0,void 0!==t.mode&&(this.mode=t.mode),0==this.mode){if(void 0===t.getFunction)return console.log("Error: getFunction is a required parameter when in mode 0"),!1;this.getFunction=t.getFunction,void 0===t.getParams?this.getParams={}:this.getParams=t.getParams}};barGraphHorizontal.prototype.loop=function(){this.updatecounter++,this.updatecounter>=this.updateint?(this.updatecounter=0,this.get(this.getFunction,this.getParams)):(this.now+this.animspeed>this.bwidth&&(this.now-=this.animspeed),this.now-this.animspeed<this.bwidth&&(this.now+=this.animspeed),this.draw())},barGraphHorizontal.prototype.get=function(t,i){"function"==typeof t&&t(i).then(t=>{this.val=t.toFixed(2),this.bwidth=this.val,this.bwidth=this.val/this.max})},barGraphHorizontal.prototype.push=function(t){this.val=t.toFixed(2),this.bwidth=this.val,this.bwidth=this.val/this.max},barGraphHorizontal.prototype.draw=function(){$w.canvas.rectangle(this.i,this.x,this.y,this.now,this.x+this.bheight,this.color,"fill",this.color),$w.canvas.line(this.i,this.x,this.y+this.bheight,this.width,this.y+this.bheight,"#ccc"),$w.canvas.text(this.i,this.x+21,this.y+this.bheight/3*2+1,this.text+": "+this.val,"stroke","20px Arial","#000")};var barGraphVertical=function(t){if(this.i=t.i,this.text=t.text,this.max=t.max,this.values=t.values,this.val=t.val,this.width=t.width,this.height=t.height,this.z=t.z,this.color=t.color,this.bwidth=this.width/this.values,this.x=this.bwidth*this.z,this.y=0,this.bheight=this.val/this.max,this.now=this.height,this.updateint=t.updateint,this.updatecounter=0,this.animspeed=1,void 0===t.getFunction)return console.log("Error: getFunction is a required parameter when in mode 0"),!1;this.getFunction=t.getFunction,void 0===t.getParams?this.getParams={}:this.getParams=t.getParams};barGraphVertical.prototype.loop=function(){if(this.updatecounter++,this.updatecounter>=this.updateint)this.updatecounter=0,this.get(this.getFunction,this.getParams);else{let t=this.height-this.bheight+10;this.now+this.animspeed>t&&(this.now-=this.animspeed),this.now-this.animspeed<t&&(this.now+=this.animspeed),this.draw()}},barGraphVertical.prototype.get=function(t,i){"function"==typeof t&&t(i).then(t=>{this.val=t.toFixed(2),this.bheight=this.val,this.bheight=this.val/this.max})},barGraphVertical.prototype.draw=function(){let t=this.x,i=this.now,e=this.bwidth,a=this.height;$w.canvas.rectangle(this.i,t,i,e,a,this.color,"fill",this.color)};var Graphs=function(){var t,i,e=["#3366cc","#fdab3d","#db4437","#008000","#ffff00","#ffd700","#808000","#7e077e","#197f7e","#30ccd2","#eff0f1","#3dfdff","#ff158a","#e2445c","#1ec875","#dd4b39","#579bfc","#7a6eff","#ffa500","#154096"],a=function(t,i){let e=[];if(void 0!==$w.objects[i])for(let a in $w.objects[i])$w.objects[i].hasOwnProperty(a)&&$w.objects[i][a].i==t&&e.push(a);return e};return{init:function(e,a){t=e,i=a},horizBarGraph:function(h,s,r){let o=document.createElement("h2");o.innerHTML=s,o.setAttribute("id","graphtitle_0"),h.appendChild(o);let n,d=i-document.getElementById("graphtitle_0").scrollHeight-10,l=0;for(let t=0;t<r.data.length;t++)l<r.data[t].val&&(l=r.data[t].val);l/=t;for(let i=0;i<r.data.length;i++)0==i?n=$w.add_object_single(1,barGraphHorizontal,{text:r.data[i].text,val:r.data[i].val,max:l,width:t,height:d,color:e[i],values:r.data.length,updateint:r.updateint,getFunction:r.getFunction,getParams:r.getParams,mode:r.mode},h,t,d):$w.add_object_single(1,barGraphHorizontal,{text:r.data[i].text,val:r.data[i].val,max:l,width:t,height:d,color:e[i],values:r.data.length,updateint:r.updateint,getFunction:r.getFunction,getParams:r.getParams,mode:r.mode},n,t,d);return $w.loop(!0,n),a(n,"barGraphHorizontal")},verticalBarGraph:function(a,h,s){let r=document.createElement("h2");r.innerHTML=h,r.setAttribute("id","vgraphtitle_0"),a.appendChild(r);let o,n=i-document.getElementById("vgraphtitle_0").scrollHeight-10,d=0;for(let t=0;t<s.data.length;t++)d<s.data[t].val&&(d=s.data[t].val);d>n?d/=n:d=n;for(let i=0;i<s.data.length;i++)0==i?o=$w.add_object_single(1,barGraphVertical,{text:s.data[i].text,val:s.data[i].val,max:d,width:t,height:n,color:e[i],values:s.data.length,updateint:s.data.updateint,getFunction:s.getFunction,getParams:s.getParams},a,t,n):$w.add_object_single(1,barGraphVertical,{text:s.data[i].text,val:s.data[i].val,max:d,width:t,height:n,color:e[i],values:s.data.length,updateint:s.updateint,getFunction:s.getFunction,getParams:s.getParams},o,t,n);$w.loop(!0,o)},posLiveDataStream:function(e,a,h){let s=document.createElement("h2");s.innerHTML=a,s.setAttribute("id","lgraphtitle_0"),e.appendChild(s);let r=i-document.getElementById("lgraphtitle_0").scrollHeight-10,o=$w.add_object_single(1,positiveLiveDataStream,{getFunction:h.getFunction,getParams:h.getParams,updateint:h.updateint,width:t,height:r,data:h.data},e,t,r);$w.loop(!0,o)},livDataStream:function(e,a,h){let s=document.createElement("h2");s.innerHTML=a,s.setAttribute("id","lgraphtitle_0"),e.appendChild(s);let r=i-document.getElementById("lgraphtitle_0").scrollHeight-10,o=$w.add_object_single(1,liveDataStream,{getFunction:h.getFunction,getParams:h.getParams,updateint:h.updateint,width:t,height:r,data:h.data},e,t,r);$w.loop(!0,o)},areaChart:function(a,h,s){let r=document.createElement("h2");r.innerHTML=h,r.setAttribute("id","acharttitle_0"),a.appendChild(r);let o,n=i-document.getElementById("acharttitle_0").scrollHeight-10,d=0;for(let t=0;t<s.data.length;t++)for(let i=0;i<s.data[t].vals.length;i++)d<s.data[t].vals[i]&&(d=s.data[t].vals[i]);d>n?d/=n:d=n;for(let i=0;i<s.data.length;i++)0==i?o=$w.add_object_single(1,AreaChart,{getFunction:s.getFunction,getParams:s.getParams,updateint:s.updateint,text:s.data[i].text,vals:s.data[i].vals,max:d,width:t,height:n,color:e[i]},a,t,n):$w.add_object_single(1,AreaChart,{getFunction:s.getFunction,getParams:s.getParams,updateint:s.updateint,text:s.data[i].text,vals:s.data[i].vals,max:d,width:t,height:n,color:e[i]},o,t,n);$w.loop(!0,o)},pieChart:function(h,s,r){let o=document.createElement("h2");o.innerHTML=s,o.setAttribute("id","pcharttitle_0"),h.appendChild(o);let n=i-document.getElementById("pcharttitle_0").scrollHeight-10,d=$w.add_object_single(1,PieChart,{width:t,height:n,data:r.data,colors:e},h,t,n);return $w.loop(!0,d),a(d,"PieChart")},pressureSpeedo:function(e,h,s){let r=document.createElement("h2");r.innerHTML=h,r.setAttribute("id","pspeedotitle_0"),e.appendChild(r);let o=i-document.getElementById("pspeedotitle_0").scrollHeight-10;$w.add_object(1,PressureSpeedoGauge,{width:t,height:o,divisor:s.divisor,shownumbers:s.shownumbers,maxp:s.maxp,warning:s.warning,danger:s.danger},e,t,o);let n=$w.add_object_single(1,PressureSpeedo,{getFunction:s.getFunction,getParams:s.getParams,updateint:s.updateint,width:t,height:o,rspeed:s.rspeed,maxp:s.maxp,measure:s.measure,data:0,mode:s.mode},e,t,o);return $w.loop(!0,n),a(n,"PressureSpeedo")},setPushData:function(t,i,e){switch(i){case"pressureSpeedo":i="PressureSpeedo";break;case"areaChart":i="AreaChart";break;case"livDataStream":i="liveDataStream";break;case"posLiveDataStream":i="positiveLiveDataStream";break;case"verticalBarGraph":i="barGraphVertical";break;case"horizBarGraph":i="barGraphHorizontal";break;case"pieChart":i="PieChart"}if(void 0!==$w.objects[i])for(let a in $w.objects[i])$w.objects[i].hasOwnProperty(a)&&$w.objects[i][a].z==t&&$w.objects[i][a].push(e)},getZvalues:a}}(),liveDataStream=function(t){if(this.i=t.i,this.height=t.height,this.width=t.width,this.updateint=t.updateint,this.updatecounter=0,this.updategraph=!1,this.maxdatalength=this.width-100,void 0===t.data)this.data=[];else{let i=JSON.stringify(t.data);this.data=JSON.parse(i)}if(void 0===t.getFunction)return console.log("Error: getFunction is a required parameter when in mode 0"),!1;this.getFunction=t.getFunction,void 0===t.getParams?this.getParams={}:this.getParams=t.getParams};liveDataStream.prototype.loop=function(){this.updatecounter++,this.updatecounter>=this.updateint?(this.updatecounter=0,this.get(this.getFunction,this.getParams)):this.draw(this.data)},liveDataStream.prototype.add=function(t){this.data.push(t),this.data.length>this.maxdatalength&&this.data.shift()},liveDataStream.prototype.push=function(t){this.add(t)},liveDataStream.prototype.get=function(t,i){"function"==typeof t&&t(i).then(t=>{this.add(t)})},liveDataStream.prototype.draw=function(t){let i=0,e=0,a=0;for(let h=0;h<t.length;h++)t[h]>e&&(e=t[h]),t[h]<a&&(a=t[h]),i=t[h];let h=e;a<0&&(h+=-a);let s=h/this.height;for(let i=0;i<t.length;i++){let e,a=i+100,h=i+100;e=t[i]>0?this.height/2-t[i]/s:this.height-this.height/2+Math.abs(t[i]/s);let r=this.height/2;$w.canvas.line(this.i,a,e,h,r)}$w.canvas.text(this.i,5,10,"max: "+e.toFixed(2),"fill","10px Arial","#000"),$w.canvas.text(this.i,5,this.height/3*2,"min: "+a.toFixed(2),"fill","10px Arial","#000"),$w.canvas.text(this.i,5,this.height-10,"current: "+i.toFixed(2),"fill","10px Arial","#000")};var PieChart=function(t){this.i=t.i,this.z=t.z,this.width=t.width,this.height=t.height,this.max=t.max,this.data=t.data,this.colors=t.colors,this.total=this.gettotal(this.data),this.draw(this.data)};PieChart.prototype.loop=function(){this.total=this.gettotal(this.data),this.draw(this.data)},PieChart.prototype.push=function(t){this.data=t},PieChart.prototype.gettotal=function(t){let i=0;for(let e=0;e<t.length;e++)i+=t[e];return i},PieChart.prototype.draw=function(t){let i=0;for(let e=0;e<t.length;e++)$w.canvas.arc(this.i,this.width/2,this.height/2,this.width/3,i,i+2*Math.PI*(t[e]/this.total),!1,this.colors[e],"fill"),i+=2*Math.PI*(t[e]/this.total)};var positiveLiveDataStream=function(t){if(this.i=t.i,this.height=t.height,this.width=t.width,this.bool=!1,this.updateint=t.updateint,this.updatecounter=0,this.updategraph=!1,this.maxdatalength=this.width-100,void 0===t.data)this.data=[];else{let i=JSON.stringify(t.data);this.data=JSON.parse(i)}if(void 0===t.getFunction)return console.log("Error: getFunction is a required parameter when in mode 0"),!1;this.getFunction=t.getFunction,void 0===t.getParams?this.getParams={}:this.getParams=t.getParams};positiveLiveDataStream.prototype.loop=function(){this.updatecounter++,this.updatecounter>=this.updateint?(this.updatecounter=0,this.get(this.getFunction,this.getParams)):this.draw(this.data)},positiveLiveDataStream.prototype.add=function(t){this.data.push(t),this.data.length>this.maxdatalength&&this.data.shift()},positiveLiveDataStream.prototype.push=function(t){this.add(t)},positiveLiveDataStream.prototype.get=function(t,i){"function"==typeof t&&t(i).then(t=>{this.add(t)})},positiveLiveDataStream.prototype.draw=function(t){let i=0,e=0,a=0;for(let h=0;h<t.length;h++)t[h]>e&&(e=t[h]),t[h]<a&&(a=t[h]),i=t[h];let h=(e+=a)/this.height;for(let i=0;i<t.length;i++){let e=i+100,a=this.height-t[i]/h,s=i+100,r=this.height;$w.canvas.line(this.i,e,a,s,r)}$w.canvas.text(this.i,5,10,"max: "+e.toFixed(2),"fill","10px Arial","#000"),$w.canvas.text(this.i,5,this.height/3*2,"min: "+(e/2).toFixed(2),"fill","10px Arial","#000"),$w.canvas.text(this.i,5,this.height-10,"current: "+i.toFixed(2),"fill","10px Arial","#000")};var PressureSpeedo=function(t){if(this.i=t.i,this.z=t.z,this.width=t.width,this.height=t.height,this.hwidth=this.width/2,this.hheight=this.height/2,this.maxp=t.maxp,this.pspeed=0,this.rspeed=t.rspeed,this.real=t.data,this.tpspeed=t.real/360,this.updateint=t.updateint,this.updatecounter=0,this.measure=t.measure,this.mode=0,void 0!==t.mode&&(this.mode=t.mode),0==this.mode){if(void 0===t.getFunction)return console.log("Error: getFunction is a required parameter when in mode 0"),!1;this.getFunction=t.getFunction,void 0===t.getParams?this.getParams={}:this.getParams=t.getParams,this.getParams.maxp=this.maxp}};PressureSpeedo.prototype.loop=function(){this.updatecounter++,this.updatecounter>=this.updateint?(this.updatecounter=0,this.get(this.getFunction,this.getParams)):(this.pspeed+this.rspeed>this.tpspeed&&(this.pspeed-=this.rspeed),this.pspeed-this.rspeed<this.tpspeed&&(this.pspeed+=this.rspeed)),this.draw()},PressureSpeedo.prototype.get=function(t,i){"function"==typeof t&&t(i).then(t=>{this.real=t,this.calc(t)})},PressureSpeedo.prototype.push=function(t){this.real=t,this.calc(t)},PressureSpeedo.prototype.calc=function(t){let i=this.maxp/360;this.tpspeed=t/i},PressureSpeedo.prototype.trig=function(t,i,e,a){e<0&&(e+=360),e>360&&(e-=360);let h=$w.math.radians(e);return{x:a*Math.cos(h)+t,y:a*Math.sin(h)+i}},PressureSpeedo.prototype.drawmeasure=function(){$w.canvas.text(this.i,20,20,this.real.toFixed(2)+" "+this.measure,"fill","10px Arial")},PressureSpeedo.prototype.drawneedle=function(){$w.canvas.circle(this.i,this.hwidth,this.hheight,10);let t=this.trig(this.hwidth,this.hheight,this.pspeed-90,10),i=this.trig(this.hwidth,this.hheight,this.pspeed+90,10),e=this.trig(this.hwidth,this.hheight,this.pspeed,this.width/3-30);$w.canvas.polygon(this.i,[[t.x,t.y],[i.x,i.y],[e.x,e.y]],"#000000","fill")},PressureSpeedo.prototype.draw=function(t){this.drawmeasure(),this.drawneedle()};var PressureSpeedoGauge=function(t){this.i=t.i,this.width=t.width,this.height=t.height,this.hwidth=this.width/2,this.hheight=this.height/2,this.maxp=t.maxp,this.warning=t.warning,this.danger=t.danger,void 0===t.divisor?this.divisor=12:this.divisor=t.divisor,void 0===t.shownumbers?this.shownumbers=!1:this.shownumbers=t.shownumbers,this.gaugeinc=this.maxp/this.divisor,this.drawgauge()};PressureSpeedoGauge.prototype.loop=function(){},PressureSpeedoGauge.prototype.vtodegs=function(t){return t/this.maxp*360},PressureSpeedoGauge.prototype.makewarning=function(){s=this.vtodegs(this.warning[0]),e=this.vtodegs(this.warning[1]),$w.canvas.arc(this.i,this.hwidth,this.hheight,this.width/3,$w.math.radians(s),$w.math.radians(e),!1,"#ffff00","fill")},PressureSpeedoGauge.prototype.makedanger=function(t,i){t=this.vtodegs(this.danger[0]),i=this.vtodegs(this.danger[1]),$w.canvas.arc(this.i,this.hwidth,this.hheight,this.width/3,$w.math.radians(t),$w.math.radians(i),!1,"#ff0000","fill")},PressureSpeedoGauge.prototype.trig=function(t,i,e,a){e<0&&(e+=360),e>360&&(e-=360);let h=$w.math.radians(e);return{x:a*Math.cos(h)+t,y:a*Math.sin(h)+i}},PressureSpeedoGauge.prototype.drawgauge=function(){this.makewarning(),this.makedanger();let t=this.width/3,i=0;$w.canvas.circle(this.i,this.hwidth,this.hheight,t,"#ffffff",1,"fill"),$w.canvas.circle(this.i,this.hwidth,this.hheight,t,"#000000",1,"stroke");for(let e=0;e<360;e+=360/this.divisor){let a=this.trig(this.hwidth,this.hheight,e,t),h=this.trig(this.hwidth,this.hheight,e,t-10);if($w.canvas.line(this.i,a.x,a.y,h.x,h.y,"#000000",3),this.shownumbers){let a=this.trig(this.hwidth-10,this.hheight,e,t+20);$w.canvas.text(this.i,a.x,a.y,Math.floor(i),"fill","10px Arial"),i+=this.gaugeinc}}};